{% extends 'base.html' %}

{% load static %}


{% block title %}
Proyecto3 parte - 5
{% endblock title %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/partes.css' %}">
<link rel="stylesheet" href="{% static 'css/default.css' %}">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/ui/jquery-ui-git.js"> </script>
{% endblock styles %}


{% block headers %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand">
        <img src="{% static 'images/logo.png' %}" class="mr-3" alt="logo" width="30">
        <span id="title-navabar">Python basado en proyectos</span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item desactivate" id="part2">
                <a class="nav-link" href="{% url 'proyecto3_app:part6' %}"><i class="fa fa-arrow-right"
                        aria-hidden="true"></i> Parte 6</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'proyecto3_app:proyecto3' %}"><i
                        class="fas fa-undo-alt mr-2"></i>Volver</a>
            </li>
        </ul>
    </div>
</nav>
{% endblock headers %}


{% block content %}
<div class="container row mx-auto" id="statment">
    <!-- Enunciado -->
    <div class="col-lg-10 mx-auto text-center part-1 p-5 mt-3">
        <h1 class="title-modul"> Parte 5</h1>
        <hr>
        <p class="text-justify">
            En esta parte 5 se va a desarrollar la función de préstamo, esta función es la que va a permitir crear un
            prestamo, guardar la información del préstamo en un diccionario y este agregarlo a la lista de préstamos que
            se ha declarado al comienzo del software, esta función recibe como parámetros las listas libros y préstamos
            y retorna las mismas listas actualizadas dado el caso que se haya podido crear el préstamo.
        <h1 class="title-modul">¿Como se realizara?</h1>
        <hr>
        <p class="text-justify">
            Lo primero es declarar la función pasandole como parametros las listas libros y prestamos, despues se le
            pide al usuario que ingrese el isbn del libro que desea prestar, se hace el llamado a la función
            buscar_libro (que se realizó en el apartado 3) pasándole como parámetro la lista de libros y el isbn que
            acabo de ingresar el usuario, lo que retorna esta función será almacenado en una variable libro y se valida
            si esta variable es diferente de None,si es igual a None se imprime que el libro no existe, de ser diferente
            de None, significa que si se encontró un libro, entonces ahora se valida si el número de copias del libro,
            es mayor a 0,si esto no se cumple, se imprime que el libro no tiene copias disponibles, pero si se cumple
            esta condición entonces se procede a prestar el libro, se crea el diccionario con la información necesaria
            se agrega a la lista de préstamos, se imprime que el préstamo se ha hecho con éxito y por último se retornan
            las listas préstamos y libros.
        </p>

        <a class="btn btn-success mx-auto mt-3" href="#" id="go">Vamos a realizarlo</a>
    </div>
</div>
<div class="container row mx-auto mt-5 desactivate" id="codigo">
    <!-- Siguiente parte -->
    <div class="text-center col-lg-12 mx-auto my-5 desactivate" id="siguiente-ejercicio">
        <h1 class="text-center mt-3 p-2 pr" style="font-size: 20px;">Felicitaciones
            <br> Puedes pasar a la siguiente parte</h1>
        <hr>

    </div>

    <!-- Codigo -->
    <div class="col-lg-6 mt-3 mx-auto bg-light">
        <h1 class="text-center mt-3 p-2 pr" style="font-size: 20px;">Solución</h1>
        <div class="container code text-justify mt-2">
            <pre>
              <code class="language-python">
      <span><span class="pr-n mr-3">1</span>def prestamo(libros,prestamos):</span>
      <span id="l1" class="linea-code"><span class="pr-n mr-3">2</span>    <span class="desactivate" id="l-1">isbn = int(input("Ingrese isbn del libro a prestar: "))</span></span>
      <span><span class="pr-n mr-3">3</span>    libro = buscar_libro(libros,isbn)</span>
      <span><span class="pr-n mr-3">4</span>    if(libro != None):</span>
      <span id="l2" class="linea-code"><span class="pr-n mr-3">5</span>        <span class="desactivate" id="l-2">if(libro['copias'] > 0):</span></span>
      <span><span class="pr-n mr-3">6</span>            nombre = input("Ingrese nombre del usuario: ")</span>
      <span><span class="pr-n mr-3">7</span>            cc = int(input("Ingrese documento: "))</span>
      <span><span class="pr-n mr-3">8</span>            fecha_prestamo = input("Ingrese la fecha prestamo: (dd/mm/año)")</span>
      <span><span class="pr-n mr-3">9</span>            fecha_devolución = input("Ingrese la fecha devolución: (dd/mm/año)")</span>
      <span id="l3" class="linea-code"><span class="pr-n mr-3">10</span>          <span class="desactivate" id="l-3">libro['copias'] -= 1</span></span>
      <span><span class="pr-n mr-3">11</span>          prestamo = dict(nombre = nombre, cedula = cc, prestamos = fecha_prestamo, devolucion = fecha_devolución, libro = libro)</span>
      <span id="l4" class="linea-code"><span class="pr-n mr-3">12</span>          <span class="desactivate" id="l-4">prestamos.append(prestamo)</span></span>
      <span><span class="pr-n mr-3">13</span>          print("Prestamo realizado con exito")</span>
      <span><span class="pr-n mr-3">14</span>      else:print("El libro no tiene copias disponibles")</span>
      <span><span class="pr-n mr-3">15</span>  else:print("No existe libro")</span>
      <span id="l5" class="linea-code"><span class="pr-n mr-3">16</span>  <span class="desactivate" id="l-5">return prestamos, libros</span></span>
            </code>
          </pre>
        </div>

        <div id="botones-1" class="desactivate">
            <a href="#" class="btn botonBlue" id="explicar"><i class="fas
            fa-align-justify"></i> Explicar codigo</a>
        </div>
    </div>

    <!-- Desarrollo -->
    <div class="col-lg-5 mt-3 mx-auto bg-light" id="explicacion">
        <h1 class="text-center mt-3 p-2 pr" style="font-size: 20px;">Desarrollo</h1>
        <div class="container code text-justify mt-2">
            <!-- #2 -->
            <div class="p-3 mt-3" id="1" style="width: 100%;">
                <div class="seleccion p-5" id="sel-1">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Linea # 2</h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Se necesita pedir el isbn del libro que es un tipo de dato entero, ¿Como se debería hacer?
                    </p>
                    <form action="" name="formulario1" class="section-ejemplos mx-auto
              text-justify p-3" style="width: 75%;">
                        <select class="form-control form-control-lg" id="s-1">
                            <option>Opciones</option>
                            <option>isbn = int("Ingrese isbn del libro a prestar: ")</option>
                            <option>isbn = input("Ingrese isbn del libro a prestar: ")</option>
                            <option>int(input("Ingrese isbn del libro a prestar: "))</option>
                            <option>isbn = int(input("Ingrese isbn del libro a prestar: "))</option>
                        </select>
                    </form>
                </div>
                <div class="seleccion p-5 desactivate" id="exp-1">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Felicitaciones
                    </h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        El isbn servirá para pasarlo como parametro a la función <span class="pr-n">buscar_libro</span>,
                        el <span class="pr">int</span> es importante para
                        convertirlo a entero
                    </p>
                </div>
            </div>
            <!-- #5 -->
            <div class="p-3 mt-3 desactivate" id="2" style="width: 100%;">
                <div class="seleccion p-5" id="sel-2">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Linea # 5</h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        La variable <span class="pr">libro</span> es un diccionario con la información del libro
                        correspondiente al isbn, se
                        debe validar si el número de copias es mayor a 0 ¿Como se haría esto?
                    </p>
                    <form action="" name="formulario2" class="section-ejemplos mx-auto
              text-justify p-3" style="width: 75%;">
                        <select class="form-control form-control-lg" id="s-2">
                            <option>Opciones</option>
                            <option>if(libro[copias] > 0):</option>
                            <option>if(libro['copias'] < 0):</option>
                            <option>if(libro['copias'] > 0):</option>
                            <option>if(['copias'] > 0):</option>
                        </select>
                    </form>
                </div>
                <div class="seleccion p-5 desactivate" id="exp-2">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Felicitaciones
                    </h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Al acceder al valor de la clave <span class="pr-n">copias</span>, se obtiene el número de copias
                        disponibles hasta el
                        momento del libro, se valida si es mayor a 0 con la sentencia <span class="pr">if</span>.
                    </p>
                </div>
            </div>
            <!-- #10 -->
            <div class="p-3 mt-3 desactivate" id="3" style="width: 100%;">
                <div class="seleccion p-5" id="sel-3">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Linea # 10</h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Al número de copias del libro se le debe disminuir en 1 ya que se va a realizar el préstamo ¿Que
                        debería venir aquí?
                    </p>
                    <form action="" name="formulario3" class="section-ejemplos mx-auto
              text-justify p-3" style="width: 75%;">
                        <select class="form-control form-control-lg" id="s-3">
                            <option>Opciones</option>
                            <option>libro['copias'] -= 1</option>
                            <option>libro['copias'] += 1</option>
                            <option>libro[copias] -= 1</option>
                            <option>['copias'] -= 1</option>
                        </select>
                    </form>
                </div>
                <div class="seleccion p-5 desactivate" id="exp-3">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Felicitaciones
                    </h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Al igual que en la linea # 5, se accede al número de <span class="pr-n">copias</span> que tiene
                        el libro, pero esta vez a
                        ese valor se le disminuye en uno utilizando el operador <span class="pr">-=</span> 1
                    </p>
                </div>
            </div>
            <!-- #12 -->
            <div class="p-3 mt-3 desactivate" id="4" style="width: 100%;">
                <div class="seleccion p-5" id="sel-4">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Linea # 12</h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Se necesita agregar el diccionario creado anteriormente a la lista de préstamos ¿Como se haría?
                    </p>
                    <form action="" name="formulario4" class="section-ejemplos mx-auto
              text-justify p-3" style="width: 75%;">
                        <select class="form-control form-control-lg" id="s-4">
                            <option>Opciones</option>
                            <option>prestamos.add(prestamo)</option>
                            <option>prestamos.append(prestamo)</option>
                            <option>prestamos(prestamo)</option>
                            <option>prestamos.insert(prestamo)</option>
                        </select>
                    </form>
                </div>
                <div class="seleccion p-5 desactivate" id="exp-4">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Felicitaciones
                    </h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        En la variable <span class="pr">prestamo</span> se guarda el diccionario que contiene la
                        información del préstamo que se
                        está realizando, por eso se agrega a la lista <span class="pr">prestamos</span>.
                    </p>
                </div>
            </div>
            <!-- #16 -->
            <div class="p-3 mt-3 desactivate" id="5" style="width: 100%;">
                <div class="seleccion p-5" id="sel-5">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Linea # 16</h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Se debe retornar las dos listas (prestamos, libros) respectivamente ¿Como se retorna en una
                        función?
                    </p>
                    <form action="" name="formulario5" class="section-ejemplos mx-auto
              text-justify p-3" style="width: 75%;">
                        <select class="form-control form-control-lg" id="s-5">
                            <option>Opciones</option>
                            <option>return prestamos</option>
                            <option>return libros</option>
                            <option>return prestamos, libros</option>
                            <option>return False, True</option>
                        </select>
                    </form>
                </div>
                <div class="seleccion p-5 desactivate" id="exp-5">
                    <h1 style="font-size: 30px;color: rgba(149, 165, 166,1);" class="text-center mt-2">Felicitaciones
                    </h1>
                    <p class="text-justify mt-3 font-weight-bold">
                        Las listas retornadas contienen los valores actualizados, dado el caso de que el préstamo haya
                        sido un éxito
                    </p>
                </div>
            </div>

            <div class="botones text-center mb-3">
                <button class="btn botonBlue" id="probar"><i class="fas
              fa-arrow-right"></i> Probar</button>
                <button class="btn botonBlue desactivate" id="siguiente"><i class="fas
              fa-arrow-right"></i> Seguir</button>
                <a id="reiniciar" href="./parte5" class="btn botonBlue" id="reiniciar"><i
                        class='fas fa-undo-alt mr-2'></i>
                    Reiniciar</a>
            </div>
        </div>
    </div>


    <!-- Explicación -->
    <div class="col-lg-6 mt-3 mx-auto bg-light desactivate" id="explicacionCode">
        <h1 class="text-center mt-3 p-2 pr" style="font-size: 20px;">Explicación</h1>
        <div class="container code text-justify mt-2" id="explain-div">
            <pre>
          <code class="language-python" id="code-add">
  <span class=""><span class="pr-n mr-3">1</span>  Se crea la función main. Con la palabra reservada "def", acompañada del nombre que se le quiera dar se pude crear una función en Python.</span>
  <span class=""><span class="pr-n mr-3">2</span>  Creamos una variable fin y la igualamos a False. <br>  <span class="pr ml-4">NOTA</span>: esta variable es la que nos va a permitir manejar el ciclo while de la linea # 5</span>
  <span class=""><span class="pr-n mr-3">3</span>  Creamos una lista donde se van a guardar los empleados registrados, la lista se llamara "lista_empleados" para evitar confusiones a la hora del desarrollo</span>
  <span class=""><span class="pr-n mr-3">4</span>  Pedimos el capital de nomina con el que se va a trabajar.</span>
  <span class=""><span class="pr-n mr-3">5</span>  Creamos un ciclo while, que nos permite hacer un ciclo infinito, que solo se detendrá cuando el usuario escoja la opción 7 <br>  <span class="pr ml-4">NOTA</span>: El ciclo while se ejecutara siempre y cuando <span class="pr">fin</span> sea diferente de True</span>
  <span class=""><span class="pr-n mr-3">6</span>  Llamamos a la función "menu()" <br>  <span class="pr ml-4">NOTA</span>: Como se menciono anteriormente, la función menu() se creara en el apartado siguientes.</span>
  <span class=""><span class="pr-n mr-3">7</span>  Una vez se muestre el menú, le pediremos al usuario que escoja una opción mostrada. La opción ingresada por el usuario se guardara en la variable "opcion"</span>
  <span class=""><span class="pr-n mr-3">8</span>  validamos si "opcion" es igual a 1</span>
  <span class=""><span class="pr-n mr-3">9</span>  validamos si "opcion" es igual a 2</span>
  <span class=""><span class="pr-n mr-3">10</span>validamos si "opcion" es igual a 3</span>
  <span class=""><span class="pr-n mr-3">11</span>validamos si "opcion" es igual a 4</span>
  <span class=""><span class="pr-n mr-3">12</span>validamos si "opcion" es igual a 5</span>
  <span class=""><span class="pr-n mr-3">13</span>validamos si "opcion" es igual a 6</span>
  <span class=""><span class="pr-n mr-3">14</span>validamos si "opcion" es igual a 7</span>
  <span class=""><span class="pr-n mr-3">15</span>Si el usuario escogió la opción 7, se muestra un mensaje de despedida</span>
  <span class=""><span class="pr-n mr-3">16</span>Como se menciono en la linea 5, el ciclo infinito solo corre siempre y cuando <span class="pr">fin</span> sea diferente de True, para terminar el ciclo, se iguala <span class="pr">fin</span> a True</span>
  <span class=""><span class="pr-n mr-3">17</span>Validamos si ninguna de las opciones fue escogida, de ser así imprimimos por pantalla un mensaje de error</span>
  <span class=""><span class="pr-n mr-3">18</span>Se hace el llamado a la función <span class="pr">main()</span> ya creada.</span>
          </code>
        </pre>
        </div>
    </div>

</div>

<div style="margin-bottom: 10%;">

</div>

{% endblock content %}

{% block scripts %}
<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.js"></script>
<script src="{% static 'js/proyectos/proyecto3/part5.js' %}"></script>
<script src="{% static 'js/highlight.pack.js' %}"></script>
<script>
    hljs.initHighlightingOnLoad()      
</script>
{% endblock scripts %}

